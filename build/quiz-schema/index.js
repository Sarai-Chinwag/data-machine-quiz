(()=>{"use strict";var e,n={589(){const e=window.wp.blocks,n=window.wp.blockEditor,i=window.wp.components,t=(window.wp.element,window.wp.i18n),a=window.ReactJSXRuntime,o=({question:e,index:n,onChange:o,onRemove:s})=>{const l=(n,i)=>{o({...e,[n]:i})};return(0,a.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"16px",marginBottom:"16px",background:"#fafafa"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,a.jsxs)("strong",{children:[(0,t.__)("Question","data-machine-quiz")," ",n+1]}),(0,a.jsx)(i.Button,{isDestructive:!0,isSmall:!0,onClick:s,children:(0,t.__)("Remove","data-machine-quiz")})]}),(0,a.jsx)(i.TextareaControl,{label:(0,t.__)("Question Text","data-machine-quiz"),value:e.question||"",onChange:e=>l("question",e),rows:2}),(0,a.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,a.jsx)("label",{style:{fontWeight:"600",marginBottom:"8px",display:"block"},children:(0,t.__)("Options","data-machine-quiz")}),(e.options||[]).map((s,r)=>(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[(0,a.jsx)("input",{type:"radio",name:`correct-${n}`,checked:e.correctAnswer===r,onChange:()=>l("correctAnswer",r),title:(0,t.__)("Mark as correct answer","data-machine-quiz")}),(0,a.jsx)(i.TextControl,{value:s,onChange:n=>((n,i)=>{const t=[...e.options||[]];t[n]=i,o({...e,options:t})})(r,n),placeholder:`Option ${r+1}`,style:{flex:1,marginBottom:0}}),(e.options||[]).length>2&&(0,a.jsx)(i.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(n=>{const i=(e.options||[]).filter((e,i)=>i!==n);let t=e.correctAnswer||0;n===t?t=0:n<t&&t--,o({...e,options:i,correctAnswer:t})})(r),children:"Ã—"})]},r)),(e.options||[]).length<6&&(0,a.jsx)(i.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{const n=[...e.options||[],""];o({...e,options:n})},children:(0,t.__)("+ Add Option","data-machine-quiz")})]}),(0,a.jsx)(i.TextareaControl,{label:(0,t.__)("Explanation (shown after answering)","data-machine-quiz"),value:e.explanation||"",onChange:e=>l("explanation",e),rows:2}),(0,a.jsx)(i.TextControl,{label:(0,t.__)("Image URL (optional)","data-machine-quiz"),value:e.imageUrl||"",onChange:e=>l("imageUrl",e),placeholder:"https://"})]})};(0,e.registerBlockType)("data-machine-quiz/quiz-schema",{title:(0,t.__)("Quiz Schema","data-machine-quiz"),icon:"welcome-learn-more",category:"common",description:(0,t.__)("Interactive quiz with Schema.org structured data","data-machine-quiz"),edit:({attributes:e,setAttributes:s})=>{const{quizTitle:l,description:r,quizType:c,questions:d,passingScore:u,showExplanations:h,resultDescriptions:p}=e,m=(0,n.useBlockProps)();return(0,a.jsxs)("div",{...m,children:[(0,a.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"16px",marginBottom:"20px"},children:[(0,a.jsxs)("h3",{style:{margin:"0 0 8px 0",color:"#1e1e1e"},children:["ðŸ§ "," ",(0,t.__)("Quiz Schema Block","data-machine-quiz")]}),(0,a.jsx)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:(0,t.__)("This block generates an interactive quiz with Schema.org structured data for SEO. Configure questions below or via the sidebar.","data-machine-quiz")})]}),(0,a.jsxs)(n.InspectorControls,{children:[(0,a.jsxs)(i.PanelBody,{title:(0,t.__)("Quiz Settings","data-machine-quiz"),children:[(0,a.jsx)(i.SelectControl,{label:(0,t.__)("Quiz Type","data-machine-quiz"),value:c,options:[{label:(0,t.__)("Multiple Choice","data-machine-quiz"),value:"multiple-choice"},{label:(0,t.__)("True/False","data-machine-quiz"),value:"true-false"},{label:(0,t.__)("Personality","data-machine-quiz"),value:"personality"}],onChange:e=>s({quizType:e})}),(0,a.jsx)(i.RangeControl,{label:(0,t.__)("Passing Score (%)","data-machine-quiz"),value:u,onChange:e=>s({passingScore:e}),min:0,max:100}),(0,a.jsx)(i.ToggleControl,{label:(0,t.__)("Show Explanations","data-machine-quiz"),checked:h,onChange:e=>s({showExplanations:e})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,t.__)("Result Messages","data-machine-quiz"),initialOpen:!1,children:[(0,a.jsx)(i.TextControl,{label:(0,t.__)("Excellent (90-100%)","data-machine-quiz"),value:p.excellent||"",onChange:e=>s({resultDescriptions:{...p,excellent:e}})}),(0,a.jsx)(i.TextControl,{label:(0,t.__)("Good (70-89%)","data-machine-quiz"),value:p.good||"",onChange:e=>s({resultDescriptions:{...p,good:e}})}),(0,a.jsx)(i.TextControl,{label:(0,t.__)("Average (50-69%)","data-machine-quiz"),value:p.average||"",onChange:e=>s({resultDescriptions:{...p,average:e}})}),(0,a.jsx)(i.TextControl,{label:(0,t.__)("Needs Work (0-49%)","data-machine-quiz"),value:p.needsWork||"",onChange:e=>s({resultDescriptions:{...p,needsWork:e}})})]})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)(i.TextControl,{label:(0,t.__)("Quiz Title","data-machine-quiz"),value:l,onChange:e=>s({quizTitle:e}),style:{marginBottom:"12px"}}),(0,a.jsx)(i.TextareaControl,{label:(0,t.__)("Description","data-machine-quiz"),value:r,onChange:e=>s({description:e}),rows:3,style:{marginBottom:"12px"}})]}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsxs)("h4",{style:{marginBottom:"12px",color:"#1e1e1e"},children:[(0,t.__)("Questions","data-machine-quiz")," ("," ",d.length," )"]}),d.map((e,n)=>(0,a.jsx)(o,{question:e,index:n,onChange:e=>((e,n)=>{const i=[...d];i[e]=n,s({questions:i})})(n,e),onRemove:()=>(e=>{s({questions:d.filter((n,i)=>i!==e)})})(n)},n)),(0,a.jsx)(i.Button,{isPrimary:!0,onClick:()=>{s({questions:[...d,{question:"",options:["",""],correctAnswer:0,explanation:"",imageUrl:""}]})},children:(0,t.__)("+ Add Question","data-machine-quiz")})]}),d.length>0&&(0,a.jsxs)("div",{style:{background:"#e8f5e9",padding:"12px",borderRadius:"4px",fontSize:"14px"},children:["âœ…"," ",d.length," ",1===d.length?"question":"questions"," ","configured â€¢ Type: ",c," â€¢ Pass: ",u,"%"]})]})},save:()=>null})}},i={};function t(e){var a=i[e];if(void 0!==a)return a.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,t),o.exports}t.m=n,e=[],t.O=(n,i,a,o)=>{if(!i){var s=1/0;for(d=0;d<e.length;d++){for(var[i,a,o]=e[d],l=!0,r=0;r<i.length;r++)(!1&o||s>=o)&&Object.keys(t.O).every(e=>t.O[e](i[r]))?i.splice(r--,1):(l=!1,o<s&&(s=o));if(l){e.splice(d--,1);var c=a();void 0!==c&&(n=c)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,a,o]},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={997:0,929:0};t.O.j=n=>0===e[n];var n=(n,i)=>{var a,o,[s,l,r]=i,c=0;if(s.some(n=>0!==e[n])){for(a in l)t.o(l,a)&&(t.m[a]=l[a]);if(r)var d=r(t)}for(n&&n(i);c<s.length;c++)o=s[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},i=globalThis.webpackChunkdata_machine_quiz=globalThis.webpackChunkdata_machine_quiz||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))})();var a=t.O(void 0,[929],()=>t(589));a=t.O(a)})();