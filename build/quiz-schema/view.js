import{getContext as e,store as t}from"@wordpress/interactivity";const{state:s,actions:r}=t("data-machine-quiz",{state:{get currentQuestionDisplay(){return e().currentQuestion+1},get progressWidth(){const t=e();return(t.currentQuestion+1)/t.totalQuestions*100+"%"},get isFirstQuestion(){return 0===e().currentQuestion},get scoreDisplay(){const t=e(),s=Math.round(t.score/t.totalQuestions*100);return t.score+"/"+t.totalQuestions+" ("+s+"%)"},get resultMessage(){const t=e(),s=Math.round(t.score/t.totalQuestions*100),r=t.resultDescriptions;return s>=90?r.excellent:s>=70?r.good:s>=50?r.average:r.needsWork}},actions:{selectAnswer(t){const s=e(),r=t.target.closest("[data-question]");if(!r)return;const n=parseInt(r.dataset.question),o=parseInt(r.dataset.option);s.revealed[n]||(s.answers=[...s.answers],s.answers[n]=o)},checkAnswer(t){const s=e(),r=t.target.closest("[data-question]");if(!r)return;const n=parseInt(r.dataset.question);-1!==s.answers[n]&&(s.revealed=[...s.revealed],s.revealed[n]=!0)},nextQuestion(){const t=e();t.currentQuestion<t.totalQuestions-1&&t.currentQuestion++},prevQuestion(){const t=e();t.currentQuestion>0&&t.currentQuestion--},finishQuiz(){const t=e();let s=0;t.questions.forEach((e,r)=>{t.answers[r]===e.correctAnswer&&s++}),t.score=s,t.isComplete=!0},resetQuiz(){const t=e();t.currentQuestion=0,t.answers=new Array(t.totalQuestions).fill(-1),t.revealed=new Array(t.totalQuestions).fill(!1),t.isComplete=!1,t.score=0}}});for(let t=0;t<50;t++){Object.defineProperty(s,`isQuestionVisible_${t}`,{get:()=>e().currentQuestion===t}),Object.defineProperty(s,`isRevealed_${t}`,{get:()=>!0===e().revealed[t]}),Object.defineProperty(s,`isNotAnswered_${t}`,{get:()=>-1===e().answers[t]});for(let r=0;r<6;r++)Object.defineProperty(s,`isSelected_${t}_${r}`,{get:()=>e().answers[t]===r}),Object.defineProperty(s,`isCorrect_${t}_${r}`,{get(){const s=e();return s.revealed[t]&&s.questions[t].correctAnswer===r}}),Object.defineProperty(s,`isWrong_${t}_${r}`,{get(){const s=e();return s.revealed[t]&&s.answers[t]===r&&s.questions[t].correctAnswer!==r}})}